{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///router.min.js","webpack:///webpack/bootstrap 50bc47bfa27e0636186d","webpack:///./router.js","webpack:///external \"riot\""],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","__proto__","_classCallCheck","instance","Constructor","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","getOwnPropertyDescriptor","get","getPrototypeOf","_createClass","defineProperties","target","props","length","descriptor","defineProperty","key","protoProps","staticProps","riot","error","console","Router","router","observable","handler","Route","current","Response","Request","handleRequest","bind","request","response","process","trigger","params","Array","slice","arguments","join","route","start","exec","Handler","matcher","matches","processMatch","processNotMatch","add","routes","t","_Handler","options","tag","path","name","pathParameterNames","pattern","replace","ignored","group","push","regex","RegExp","_routes","redirectRoutes","filter","r","RedirectRoute","defaultRoutes","DefaultRoute","notFoundRoutes","NotFoundRoute","otherRoutes","indexOf","concat","uri","parseInt","found","processRoutes","RouteChildRequest","substring","parentUri","_Handler2","_Handler3","from","to","_Handler4","trim","hasOwnProperty","index","opts","calculateLevel","level","__router_level","__router_tag","mountTag","api","forEach","unmount","mount","children","updateRoute","size","JSON","parse","stringify","on","off","_"],"mappings":"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","file":"router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar riot = __webpack_require__(1);\n\tvar error = console && console.error || function () {};\n\t\n\tvar Router = (function () {\n\t  function Router() {\n\t    _classCallCheck(this, Router);\n\t\n\t    riot.router = this;\n\t    riot.observable(this);\n\t    this.handler = new Route();\n\t    this.current = new Response(new Request(''));\n\t    this.handleRequest = this.handleRequest.bind(this);\n\t  }\n\t\n\t  _createClass(Router, [{\n\t    key: 'route',\n\t    value: function route(handler) {\n\t      this.handler = handler;\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(request) {\n\t      var response = new Response(request);\n\t      this.handler.process(request, response);\n\t      this.current = response;\n\t      this.trigger('route:updated', response);\n\t      return response;\n\t    }\n\t  }, {\n\t    key: 'handleRequest',\n\t    value: function handleRequest() {\n\t      var params = Array.prototype.slice.call(arguments);\n\t      this.process(new Request(params.join('/')));\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      riot.route(this.handleRequest);\n\t      riot.route.start();\n\t      riot.route.exec(this.handleRequest);\n\t    }\n\t  }]);\n\t\n\t  return Router;\n\t})();\n\t\n\tvar Handler = (function () {\n\t  function Handler() {\n\t    _classCallCheck(this, Handler);\n\t  }\n\t\n\t  _createClass(Handler, [{\n\t    key: 'matches',\n\t    value: function matches(request) {\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'process',\n\t    value: function process(request, response) {\n\t      var matcher = this.matches(request);\n\t      if (!matcher) return this.processNotMatch(request, response);\n\t      return this.processMatch(request, response, matcher);\n\t    }\n\t  }, {\n\t    key: 'processMatch',\n\t    value: function processMatch(request, response, matcher) {\n\t      response.add(matcher);\n\t      return true;\n\t    }\n\t  }, {\n\t    key: 'processNotMatch',\n\t    value: function processNotMatch(request, response) {\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'processRoutes',\n\t    value: function processRoutes(request, response, routes) {\n\t      if (routes && routes.length) {\n\t        var t = routes.length;\n\t        for (var i = 0; i < t; i++) {\n\t          var route = routes[i];\n\t          if (route.process(request, response)) return true;\n\t        }\n\t        return false;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Handler;\n\t})();\n\t\n\tvar Route = (function (_Handler) {\n\t  function Route(options) {\n\t    _classCallCheck(this, Route);\n\t\n\t    _get(Object.getPrototypeOf(Route.prototype), 'constructor', this).call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t    this.path = options.path;\n\t    this.name = options.name;\n\t    this.pathParameterNames = [];\n\t    this.pattern = '^/?' + (this.path || this.name || '').replace(/^\\//, '').replace(/:([^/]+)/, (function (ignored, group) {\n\t      this.pathParameterNames.push(group);\n\t      return '([^/]+)';\n\t    }).bind(this)) + '(:?/|$)';\n\t    this.regex = new RegExp(this.pattern);\n\t  }\n\t\n\t  _inherits(Route, _Handler);\n\t\n\t  _createClass(Route, [{\n\t    key: 'routes',\n\t    value: function routes(_routes) {\n\t      var redirectRoutes = _routes.filter(function (r) {\n\t        return r instanceof RedirectRoute;\n\t      });\n\t      var defaultRoutes = _routes.filter(function (r) {\n\t        return r instanceof DefaultRoute;\n\t      });\n\t      var notFoundRoutes = _routes.filter(function (r) {\n\t        return r instanceof NotFoundRoute;\n\t      });\n\t      var otherRoutes = _routes.filter(function (r) {\n\t        return redirectRoutes.indexOf(r) === -1 && defaultRoutes.indexOf(r) === -1 && notFoundRoutes.indexOf(r) === -1;\n\t      });\n\t      if (notFoundRoutes.length > 1) error('Can\\'t use more than one NotFoundRoute per route. --> ' + (this.name || this.path || this.tag));\n\t      if (defaultRoutes.length > 1) error('Can\\'t use more than one DefaultRoute per route. --> ' + (this.name || this.path || this.tag));\n\t      this._routes = [].concat(redirectRoutes).concat(otherRoutes).concat(defaultRoutes).concat(notFoundRoutes);\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'matches',\n\t    value: function matches(request) {\n\t      var matcher = this.regex.exec(request.uri);\n\t      if (matcher) {\n\t        var params = {};\n\t        for (var i in this.pathParameterNames) {\n\t          var name = this.pathParameterNames[i];\n\t          params[name] = matcher[parseInt(i, 10) + 1];\n\t        }\n\t        return { route: this, tag: this.tag, found: matcher[0], params: params };\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'processMatch',\n\t    value: function processMatch(request, response, matcher) {\n\t      var matches = _get(Object.getPrototypeOf(Route.prototype), 'processMatch', this).call(this, request, response, matcher);\n\t      this.processRoutes(request, response, matcher);\n\t      return matches;\n\t    }\n\t  }, {\n\t    key: 'processRoutes',\n\t    value: function processRoutes(request, response, matcher) {\n\t      return _get(Object.getPrototypeOf(Route.prototype), 'processRoutes', this).call(this, new RouteChildRequest(request, matcher), response, this._routes);\n\t    }\n\t  }]);\n\t\n\t  return Route;\n\t})(Handler);\n\t\n\tvar RouteChildRequest = function RouteChildRequest(request, matcher) {\n\t  _classCallCheck(this, RouteChildRequest);\n\t\n\t  this.request = request;\n\t  this.matcher = matcher;\n\t  this.uri = this.request.uri.substring(matcher.found.length);\n\t  this.parentUri = this.request.uri.substring(0, matcher.found.length);\n\t};\n\t\n\tvar NotFoundRoute = (function (_Handler2) {\n\t  function NotFoundRoute(options) {\n\t    _classCallCheck(this, NotFoundRoute);\n\t\n\t    _get(Object.getPrototypeOf(NotFoundRoute.prototype), 'constructor', this).call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t  }\n\t\n\t  _inherits(NotFoundRoute, _Handler2);\n\t\n\t  _createClass(NotFoundRoute, [{\n\t    key: 'matches',\n\t    value: function matches(request) {\n\t      return { route: this, tag: this.tag, found: request.uri };\n\t    }\n\t  }]);\n\t\n\t  return NotFoundRoute;\n\t})(Handler);\n\t\n\tvar RedirectRoute = (function (_Handler3) {\n\t  function RedirectRoute(options) {\n\t    _classCallCheck(this, RedirectRoute);\n\t\n\t    _get(Object.getPrototypeOf(RedirectRoute.prototype), 'constructor', this).call(this, options);\n\t    options = options || {};\n\t    this.from = options.from;\n\t    this.to = options.to;\n\t    this.pattern = '(^/?)' + this.from + '(/|$)';\n\t    this.regex = new RegExp(this.pattern);\n\t  }\n\t\n\t  _inherits(RedirectRoute, _Handler3);\n\t\n\t  _createClass(RedirectRoute, [{\n\t    key: 'process',\n\t    value: function process(request, response) {\n\t      var uri = request.uri.replace(this.regex, '$1' + this.to + '$2');\n\t      if (uri !== request.uri) {\n\t        var matcher = this.regex.exec(request.uri);\n\t        var parent = request.parentUri || '';\n\t        response.uri = parent + uri;\n\t        request.uri = uri;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return RedirectRoute;\n\t})(Handler);\n\t\n\tvar DefaultRoute = (function (_Handler4) {\n\t  function DefaultRoute(options) {\n\t    _classCallCheck(this, DefaultRoute);\n\t\n\t    _get(Object.getPrototypeOf(DefaultRoute.prototype), 'constructor', this).call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t  }\n\t\n\t  _inherits(DefaultRoute, _Handler4);\n\t\n\t  _createClass(DefaultRoute, [{\n\t    key: 'matches',\n\t    value: function matches(request) {\n\t      var uri = request.uri.trim();\n\t      if (uri === '/' || uri === '') return { route: this, tag: this.tag, found: uri };\n\t    }\n\t  }]);\n\t\n\t  return DefaultRoute;\n\t})(Handler);\n\t\n\tvar Request = function Request(uri) {\n\t  _classCallCheck(this, Request);\n\t\n\t  this.uri = uri;\n\t};\n\t\n\tvar Response = (function () {\n\t  function Response(request) {\n\t    _classCallCheck(this, Response);\n\t\n\t    this.uri = request.uri;\n\t    this.matches = [];\n\t    this.params = {};\n\t  }\n\t\n\t  _createClass(Response, [{\n\t    key: 'add',\n\t    value: function add(matcher) {\n\t      this.matches.push(matcher);\n\t      var params = matcher.params;\n\t      if (params) {\n\t        for (var key in params) {\n\t          if (params.hasOwnProperty(key)) {\n\t            this.params[key] = params[key];\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function get(index) {\n\t      return this.matches[index];\n\t    }\n\t  }, {\n\t    key: 'size',\n\t    value: function size() {\n\t      return this.matches.length;\n\t    }\n\t  }, {\n\t    key: 'isEmpty',\n\t    value: function isEmpty() {\n\t      return this.matches.length;\n\t    }\n\t  }]);\n\t\n\t  return Response;\n\t})();\n\t\n\triot.tag('route-empty', '', function (opts) {});\n\t\n\triot.tag('route', '<route-content name=\"content\"></route-content>', function (opts) {\n\t  this.calculateLevel = (function (target) {\n\t    var level = 0;\n\t    if (target.parent) level += this.calculateLevel(target.parent);\n\t    if (target.opts.__router_level) level += target.opts.__router_level;\n\t    if (target.__router_tag) level += 1;\n\t    return level;\n\t  }).bind(this);\n\t\n\t  this.mountTag = function (tag, api) {\n\t    if (this.instance) this.instance.forEach(function (instance) {\n\t      instance.unmount(true);\n\t    });\n\t    if (tag) this.instance = riot.mount(this.root.children[0], tag, api);\n\t  };\n\t\n\t  this.updateRoute = (function () {\n\t    var mount = { tag: 'route-empty' };\n\t    if (riot.router && riot.router.current) {\n\t      var response = riot.router.current;\n\t      if (this.level <= response.size()) {\n\t        var matcher = response.get(this.level);\n\t        if (matcher) {\n\t          var api = JSON.parse(JSON.stringify(matcher.params || {}));\n\t          api.__router_level = this.level;\n\t          mount = { tag: matcher.tag, api: api };\n\t        }\n\t      }\n\t    }\n\t    this.mountTag(mount.tag, mount.api);\n\t  }).bind(this);\n\t\n\t  this.__router_tag = 'route';\n\t  this.level = this.calculateLevel(this);\n\t  riot.router.on('route:updated', this.updateRoute);\n\t\n\t  this.on('unmount', (function () {\n\t    riot.router.off('route:updated', this.updateRoute);\n\t  }).bind(this));\n\t});\n\t\n\tvar router = new Router();\n\trouter.Route = Route;\n\trouter.DefaultRoute = DefaultRoute;\n\trouter.RedirectRoute = RedirectRoute;\n\trouter.NotFoundRoute = NotFoundRoute;\n\trouter._ = { Response: Response, Request: Request };\n\t\n\triot.router = router;\n\t\n\tmodule.exports = router;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** router.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 50bc47bfa27e0636186d\n **/","var riot = require('riot');  \nvar error = console && console.error || function() {};\n\nclass Router {\n  constructor() {\n    riot.router = this;\n    riot.observable(this);\n    this.handler = new Route();\n    this.current = new Response(new Request(\"\"));\n    this.handleRequest = this.handleRequest.bind(this);\n  }\n\n  route(handler) {\n    this.handler = handler;\n  }\n\n  process(request) {\n    var response = new Response(request);\n    this.handler.process(request, response);\n    this.current = response;\n    this.trigger('route:updated', response);\n    return response;\n  }\n\n  handleRequest() {\n    var params = Array.prototype.slice.call(arguments);\n    this.process(new Request(params.join(\"/\")));\n  }\n\n  start() {\n    riot.route(this.handleRequest);\n    riot.route.start();\n    riot.route.exec(this.handleRequest);\n  }\n}\n\nclass Handler {\n  constructor() {\n  }\n\n  matches(request) {\n    return false;\n  }\n\n  process(request, response) {\n    var matcher = this.matches(request);\n    if (!matcher) return this.processNotMatch(request, response);\n    return this.processMatch(request, response, matcher);\n  }\n\n  processMatch(request, response, matcher) {\n    response.add(matcher);\n    return true;\n  }\n\n  processNotMatch(request, response) {\n    return false;\n  }\n\n  processRoutes(request, response, routes) {\n    if (routes && routes.length) {\n      var t = routes.length;\n      for(var i = 0; i < t; i++) {\n        var route = routes[i];\n        if (route.process(request, response))\n          return true;\n      }\n      return false;\n    }\n  }\n}\n\nclass Route extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n    this.path = options.path;\n    this.name = options.name;\n    this.pathParameterNames = [];\n    this.pattern = \"^/?\" + (this.path || this.name || \"\").replace(/^\\//,\"\").replace(/:([^/]+)/, function(ignored, group) {\n      this.pathParameterNames.push(group);\n      return \"([^/]+)\";\n    }.bind(this)) + \"(:?/|$)\";\n    this.regex = new RegExp(this.pattern);\n  }\n\n  routes(routes) {\n    var redirectRoutes = routes.filter(function(r) { return r instanceof RedirectRoute; });\n    var defaultRoutes = routes.filter(function(r) { return r instanceof DefaultRoute; });\n    var notFoundRoutes = routes.filter(function(r) { return r instanceof NotFoundRoute; });\n    var otherRoutes = routes.filter(function(r) { return redirectRoutes.indexOf(r) === -1 \n                                                      &&  defaultRoutes.indexOf(r) === -1\n                                                      && notFoundRoutes.indexOf(r) === -1; });\n    if (notFoundRoutes.length > 1) error(\"Can't use more than one NotFoundRoute per route. --> \" + (this.name || this.path || this.tag));\n    if (defaultRoutes.length > 1) error(\"Can't use more than one DefaultRoute per route. --> \" + (this.name || this.path || this.tag));\n    this._routes = [].concat(redirectRoutes).concat(otherRoutes).concat(defaultRoutes).concat(notFoundRoutes);\n    return this;\n  }\n\n  matches(request) {\n    var matcher = this.regex.exec(request.uri);\n    if (matcher) {\n      var params = {};\n      for (var i in this.pathParameterNames) {\n        var name = this.pathParameterNames[i];\n        params[name] = matcher[parseInt(i, 10) + 1];\n      }\n      return {route: this, tag: this.tag, found: matcher[0], params: params};\n    }\n    return false;\n  }\n\n  processMatch(request, response, matcher) {\n    var matches = super.processMatch(request, response, matcher);\n    this.processRoutes(request, response, matcher);\n    return matches;\n  }\n\n  processRoutes(request, response, matcher) {\n    return super.processRoutes(new RouteChildRequest(request, matcher), response, this._routes);\n  }\n}\n\nclass RouteChildRequest {\n  constructor(request, matcher) {\n    this.request = request;\n    this.matcher = matcher;\n    this.uri = this.request.uri.substring(matcher.found.length);\n    this.parentUri = this.request.uri.substring(0, matcher.found.length);\n  }\n}\n\nclass NotFoundRoute extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n  }\n  matches(request) {\n    return {route: this, tag: this.tag, found: request.uri};\n  }\n}\n\nclass RedirectRoute extends Handler {\n  \n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.from = options.from;\n    this.to = options.to;\n    this.pattern = \"(^/?)\" + this.from + \"(/|$)\";\n    this.regex = new RegExp(this.pattern);\n  }\n  \n  process(request, response) {\n    var uri = request.uri.replace(this.regex, \"$1\" + this.to + \"$2\");\n    if (uri !== request.uri) {\n      var matcher = this.regex.exec(request.uri);\n      var parent = request.parentUri || \"\";\n      response.uri = parent + uri;\n      request.uri = uri;\n    }\n  }\n  \n}\n\nclass DefaultRoute extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n  }\n  matches(request) {\n    var uri = request.uri.trim();\n    if (uri === \"/\" || uri === \"\")\n      return {route: this, tag: this.tag, found: uri};\n  }\n}\n\nclass Request {\n  constructor(uri) {\n    this.uri = uri;\n  }\n}\n\nclass Response {\n  constructor(request) {\n    this.uri = request.uri;\n    this.matches = [];\n    this.params = {};\n  }\n  add(matcher) {\n    this.matches.push(matcher);\n    var params = matcher.params;\n    if (params) {\n      for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n          this.params[key] = params[key];\n        }\n      }\n    }\n  }\n\n  get(index) {\n    return this.matches[index];\n  }\n\n  size() {\n    return this.matches.length;\n  }\n\n  isEmpty() {\n    return this.matches.length;\n  }\n}\n\nriot.tag('route-empty', '', function(opts) {\n});\n\nriot.tag('route', '<route-content name=\"content\"></route-content>', function(opts) {\n  this.calculateLevel = function(target) {\n    var level = 0;\n    if (target.parent) level += this.calculateLevel(target.parent);\n    if (target.opts.__router_level) level += target.opts.__router_level;\n    if (target.__router_tag) level += 1;\n    return level;\n  }.bind(this);\n\n  this.mountTag = function(tag, api) {\n    if (this.instance)\n      this.instance.forEach(function(instance) {\n        instance.unmount(true);\n      });\n    if (tag)\n      this.instance = riot.mount(this.root.children[0], tag, api);\n  }\n\n  this.updateRoute = function() {\n    var mount = {tag: 'route-empty'};\n    if (riot.router && riot.router.current) {\n      var response = riot.router.current;\n      if (this.level <= response.size()) {\n        var matcher = response.get(this.level);\n        if (matcher) {\n          var api = JSON.parse( JSON.stringify( matcher.params || {} ) );\n          api.__router_level = this.level;\n          mount = {tag: matcher.tag, api: api};\n        }\n      }\n    }\n    this.mountTag(mount.tag, mount.api);\n  }.bind(this);\n\n  this.__router_tag = 'route';\n  this.level = this.calculateLevel(this);\n  riot.router.on('route:updated', this.updateRoute);\n\n  this.on('unmount', function() {\n    riot.router.off('route:updated', this.updateRoute);\n  }.bind(this));\n\n});\n\nvar router = new Router();\nrouter.Route = Route;\nrouter.DefaultRoute = DefaultRoute;\nrouter.RedirectRoute = RedirectRoute;\nrouter.NotFoundRoute = NotFoundRoute;\nrouter._ = {Response: Response, Request: Request};\n\nriot.router = router;\n\nmodule.exports = router;\n\n\n\n/** WEBPACK FOOTER **\n ** ./router.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"riot\"\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}