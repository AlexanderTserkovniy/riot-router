{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///router.min.js","webpack:///webpack/bootstrap e2e43b710ec40d3bc375","webpack:///./router.js","webpack:///external \"riot\"","webpack:///./~/extend/index.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","riot","extend","error","console","Router","router","observable","interceptors","processRoute","bind","handler","InitialRoute","current","Context","response","process","route","routes","_routes","use","interceptor","params","slice","arguments","uri","join","context","rootContext","processRequest","processInterceptors","processResponse","isRedirect","processRedirect","request","redirectTo","trigger","addRedirect","navigateTo","preInterceptors","postInterceptors","concat","stop","processor","shift","start","exec","Request","Response","redirectStack","indexOf","Error","Handler","matches","matcher","routeMatch","routeMiss","add","processRoutes","t","createRequest","ChildRequest","Route","_Handler","options","tag","api","path","name","updatable","pathParameterNames","getPath","replace","pattern","ignored","group","regex","RegExp","_routes2","redirectRoutes","filter","r","RedirectRoute","defaultRoutes","DefaultRoute","notFoundRoutes","NotFoundRoute","otherRoutes","decodeURIComponent","parseInt","found","_Route","apply","substring","parentUri","_Handler2","_Handler3","from","to","parent","_Handler4","trim","key","hasOwnProperty","get","index","size","isEmpty","opts","calculateLevel","target","level","__router_level","__router_tag","normalizeTag","result","unmountTag","unmount","mountTag","_normalizeTag","_normalizeTag2","canUpdate","update","replaceChild","document","createElement","children","mount","instanceTag","config","isMounted","updateRoute","on","off","_","hasOwn","toStr","toString","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","src","copy","copyIsArray","clone","deep"],"mappings":"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","file":"router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"riot\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"riot\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"riot\")) : factory(root[\"riot\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar riot = __webpack_require__(1);\n\tvar extend = __webpack_require__(2);\n\tvar error = console && console.error || function () {};\n\t\n\tvar Router = (function () {\n\t  function Router() {\n\t    _classCallCheck(this, Router);\n\t\n\t    riot.router = this;\n\t    riot.observable(this);\n\t    this.interceptors = [this.processRoute.bind(this)];\n\t    this.handler = new InitialRoute();\n\t    this.current = new Context(\"\").response;\n\t    this.process = this.process.bind(this);\n\t  }\n\t\n\t  Router.prototype.route = function route(handler) {\n\t    this.handler = handler;\n\t  };\n\t\n\t  Router.prototype.routes = function routes(_routes) {\n\t    this.route(new InitialRoute().routes(_routes));\n\t  };\n\t\n\t  Router.prototype.use = function use(interceptor) {\n\t    this.interceptors.push(interceptor);\n\t  };\n\t\n\t  Router.prototype.process = function process() {\n\t    var params = Array.prototype.slice.call(arguments);\n\t    var uri = params.join(\"/\");\n\t    if (uri[0] !== '/') uri = \"/\" + uri; // handle '#any' as '#/any'\n\t    var context = new Context(uri);\n\t    if (!this.rootContext) this.rootContext = context;\n\t    this.processRequest(context);\n\t    return context;\n\t  };\n\t\n\t  Router.prototype.processRequest = function processRequest(context) {\n\t    this.processInterceptors(context);\n\t    return this.processResponse(context);\n\t  };\n\t\n\t  Router.prototype.processResponse = function processResponse(context) {\n\t    if (this.isRedirect(context)) {\n\t      return this.processRedirect(context);\n\t    }\n\t    var request = context.request;\n\t    var response = context.response;\n\t\n\t    if (!response.redirectTo) {\n\t      this.current = response;\n\t      this.rootContext = null;\n\t      this.trigger('route:updated', response);\n\t      return context;\n\t    }\n\t  };\n\t\n\t  Router.prototype.isRedirect = function isRedirect(context) {\n\t    return !!context.response.redirectTo;\n\t  };\n\t\n\t  Router.prototype.processRedirect = function processRedirect(context) {\n\t    var uri = context.response.redirectTo;\n\t    this.rootContext.addRedirect(uri);\n\t    this.navigateTo(uri);\n\t  };\n\t\n\t  Router.prototype.navigateTo = function navigateTo(uri) {\n\t    riot.route(uri);\n\t  };\n\t\n\t  Router.prototype.processInterceptors = function processInterceptors(context, preInterceptors, postInterceptors) {\n\t    var interceptors = (preInterceptors || []).concat(this.interceptors).concat(postInterceptors || []);\n\t    var next = function next() {\n\t      if (!context.stop) {\n\t        var processor = interceptors.shift();\n\t        var request = context.request;\n\t        var response = context.response;\n\t\n\t        if (processor) return processor(request, response, next, context);\n\t      }\n\t      return context;\n\t    };\n\t    return next();\n\t  };\n\t\n\t  Router.prototype.processRoute = function processRoute(request, response, next, context) {\n\t    this.handler.process(request, response, context);\n\t    return next();\n\t  };\n\t\n\t  Router.prototype.start = function start() {\n\t    riot.route(this.process);\n\t    riot.route.start();\n\t    this.exec();\n\t  };\n\t\n\t  Router.prototype.exec = function exec() {\n\t    riot.route.exec(this.process);\n\t  };\n\t\n\t  return Router;\n\t})();\n\t\n\tvar Context = (function () {\n\t  function Context(request) {\n\t    _classCallCheck(this, Context);\n\t\n\t    this.request = typeof request === 'string' ? new Request(request) : request;\n\t    this.response = new Response(this.request);\n\t    this.redirectStack = [];\n\t  }\n\t\n\t  Context.prototype.addRedirect = function addRedirect(uri) {\n\t    if (this.redirectStack.indexOf(uri) > -1) throw new Error(\"Cyclic redirection to \" + uri + \". Stack = \" + this.redirectStack);\n\t    this.redirectStack.push(uri);\n\t  };\n\t\n\t  return Context;\n\t})();\n\t\n\tvar Handler = (function () {\n\t  function Handler() {\n\t    _classCallCheck(this, Handler);\n\t  }\n\t\n\t  Handler.prototype.matches = function matches(request) {\n\t    return false;\n\t  };\n\t\n\t  Handler.prototype.process = function process(request, response) {\n\t    var matcher = this.matches(request);\n\t    if (!matcher) return this.routeMiss(request, response);\n\t    return this.routeMatch(request, response, matcher);\n\t  };\n\t\n\t  Handler.prototype.routeMatch = function routeMatch(request, response, matcher) {\n\t    response.add(matcher);\n\t    return true;\n\t  };\n\t\n\t  Handler.prototype.routeMiss = function routeMiss(request, response) {\n\t    return false;\n\t  };\n\t\n\t  Handler.prototype.processRoutes = function processRoutes(request, response, routes) {\n\t    if (routes && routes.length) {\n\t      var t = routes.length;\n\t      for (var i = 0; i < t; i++) {\n\t        var route = routes[i];\n\t        if (route.process(request, response)) return true;\n\t      }\n\t      return false;\n\t    }\n\t  };\n\t\n\t  Handler.prototype.createRequest = function createRequest(request, matcher) {\n\t    return new ChildRequest(request, matcher);\n\t  };\n\t\n\t  return Handler;\n\t})();\n\t\n\tvar Route = (function (_Handler) {\n\t  _inherits(Route, _Handler);\n\t\n\t  function Route(options) {\n\t    _classCallCheck(this, Route);\n\t\n\t    _Handler.call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t    this.api = options.api;\n\t    this.path = options.path;\n\t    this.name = options.name;\n\t    this.updatable = options.updatable;\n\t    this.pathParameterNames = [];\n\t    var path = this.getPath().replace(/^\\//, \"\");\n\t    this.pattern = \"^/?\" + path.replace(/:([^/]+)/g, (function (ignored, group) {\n\t      this.pathParameterNames.push(group);\n\t      return \"([^/]+)\";\n\t    }).bind(this)) + \"(:?/|$)\";\n\t    this.regex = new RegExp(this.pattern);\n\t  }\n\t\n\t  Route.prototype.routes = function routes(_routes2) {\n\t    var redirectRoutes = _routes2.filter(function (r) {\n\t      return r instanceof RedirectRoute;\n\t    });\n\t    var defaultRoutes = _routes2.filter(function (r) {\n\t      return r instanceof DefaultRoute;\n\t    });\n\t    var notFoundRoutes = _routes2.filter(function (r) {\n\t      return r instanceof NotFoundRoute;\n\t    });\n\t    var otherRoutes = _routes2.filter(function (r) {\n\t      return redirectRoutes.indexOf(r) === -1 && defaultRoutes.indexOf(r) === -1 && notFoundRoutes.indexOf(r) === -1;\n\t    });\n\t    if (notFoundRoutes.length > 1) error(\"Can't use more than one NotFoundRoute per route. --> \" + this.getPath());\n\t    if (defaultRoutes.length > 1) error(\"Can't use more than one DefaultRoute per route. --> \" + this.getPath());\n\t    this._routes = [].concat(redirectRoutes).concat(otherRoutes).concat(defaultRoutes).concat(notFoundRoutes);\n\t    return this;\n\t  };\n\t\n\t  Route.prototype.matches = function matches(request) {\n\t    var matcher = this.regex.exec(request.uri);\n\t    if (matcher) {\n\t      var params = {};\n\t      for (var i in this.pathParameterNames) {\n\t        var name = this.pathParameterNames[i];\n\t        params[name] = decodeURIComponent(matcher[parseInt(i, 10) + 1]);\n\t      }\n\t      return { route: this, tag: this.tag, api: this.api, found: matcher[0], params: params };\n\t    }\n\t    return false;\n\t  };\n\t\n\t  Route.prototype.routeMatch = function routeMatch(request, response, matcher) {\n\t    var matches = _Handler.prototype.routeMatch.call(this, request, response, matcher);\n\t    this.processRoutes(request, response, matcher);\n\t    return matches;\n\t  };\n\t\n\t  Route.prototype.processRoutes = function processRoutes(request, response, matcher) {\n\t    return _Handler.prototype.processRoutes.call(this, this.createRequest(request, matcher), response, this._routes);\n\t  };\n\t\n\t  Route.prototype.getPath = function getPath() {\n\t    return this.name || this.path || (typeof this.tag === 'string' ? this.tag : '');\n\t  };\n\t\n\t  return Route;\n\t})(Handler);\n\t\n\tvar InitialRoute = (function (_Route) {\n\t  _inherits(InitialRoute, _Route);\n\t\n\t  function InitialRoute() {\n\t    _classCallCheck(this, InitialRoute);\n\t\n\t    _Route.apply(this, arguments);\n\t  }\n\t\n\t  return InitialRoute;\n\t})(Route);\n\t\n\tvar ChildRequest = function ChildRequest(request, matcher) {\n\t  _classCallCheck(this, ChildRequest);\n\t\n\t  this.request = request;\n\t  this.matcher = matcher;\n\t  this.uri = this.request.uri.substring(matcher.found.length);\n\t  this.parentUri = this.request.uri.substring(0, matcher.found.length);\n\t};\n\t\n\tvar NotFoundRoute = (function (_Handler2) {\n\t  _inherits(NotFoundRoute, _Handler2);\n\t\n\t  function NotFoundRoute(options) {\n\t    _classCallCheck(this, NotFoundRoute);\n\t\n\t    _Handler2.call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t    this.api = options.api;\n\t  }\n\t\n\t  NotFoundRoute.prototype.matches = function matches(request) {\n\t    return { route: this, tag: this.tag, api: this.api, found: request.uri };\n\t  };\n\t\n\t  return NotFoundRoute;\n\t})(Handler);\n\t\n\tvar RedirectRoute = (function (_Handler3) {\n\t  _inherits(RedirectRoute, _Handler3);\n\t\n\t  function RedirectRoute(options) {\n\t    _classCallCheck(this, RedirectRoute);\n\t\n\t    _Handler3.call(this, options);\n\t    options = options || {};\n\t    this.from = options.from;\n\t    this.to = options.to;\n\t    this.pattern = \"(^/?)\" + this.from + \"(/|$)\";\n\t    this.regex = new RegExp(this.pattern);\n\t  }\n\t\n\t  RedirectRoute.prototype.process = function process(request, response) {\n\t    var uri = request.uri.replace(this.regex, \"$1\" + this.to + \"$2\");\n\t    if (uri !== request.uri) {\n\t      var parent = request.parentUri || \"\";\n\t      response.redirectTo = parent + uri;\n\t      return true;\n\t    }\n\t  };\n\t\n\t  return RedirectRoute;\n\t})(Handler);\n\t\n\tvar DefaultRoute = (function (_Handler4) {\n\t  _inherits(DefaultRoute, _Handler4);\n\t\n\t  function DefaultRoute(options) {\n\t    _classCallCheck(this, DefaultRoute);\n\t\n\t    _Handler4.call(this, options);\n\t    options = options || {};\n\t    this.tag = options.tag;\n\t    this.api = options.api;\n\t  }\n\t\n\t  DefaultRoute.prototype.matches = function matches(request) {\n\t    var uri = request.uri.trim();\n\t    if (uri === \"/\" || uri === \"\") return { route: this, tag: this.tag, api: this.api, found: uri };\n\t  };\n\t\n\t  return DefaultRoute;\n\t})(Handler);\n\t\n\tvar Request = function Request(uri) {\n\t  _classCallCheck(this, Request);\n\t\n\t  this.uri = uri;\n\t};\n\t\n\tvar Response = (function () {\n\t  function Response(request) {\n\t    _classCallCheck(this, Response);\n\t\n\t    this.uri = request.uri;\n\t    this.matches = [];\n\t    this.params = {};\n\t  }\n\t\n\t  Response.prototype.add = function add(matcher) {\n\t    this.matches.push(matcher);\n\t    var params = matcher.params;\n\t    if (params) {\n\t      for (var key in params) {\n\t        if (params.hasOwnProperty(key)) {\n\t          this.params[key] = params[key];\n\t        }\n\t      }\n\t    }\n\t  };\n\t\n\t  Response.prototype.get = function get(index) {\n\t    return this.matches[index];\n\t  };\n\t\n\t  Response.prototype.size = function size() {\n\t    return this.matches.length;\n\t  };\n\t\n\t  Response.prototype.isEmpty = function isEmpty() {\n\t    return this.matches.length;\n\t  };\n\t\n\t  return Response;\n\t})();\n\t\n\triot.tag('route', '<router-content></router-content>', function (opts) {\n\t  this.calculateLevel = (function (target) {\n\t    var level = 0;\n\t    if (target.parent) level += this.calculateLevel(target.parent);\n\t    if (target.opts.__router_level) level += target.opts.__router_level;\n\t    if (target.__router_tag) level += 1;\n\t    return level;\n\t  }).bind(this);\n\t\n\t  this.normalizeTag = function (tag, api, options) {\n\t    var result = tag(api, options);\n\t    if (typeof result === 'string') {\n\t      tag = result;\n\t    } else {\n\t      tag = result.tag || tag;\n\t      api = result.api || api;\n\t    }\n\t    return [tag, api, options];\n\t  };\n\t\n\t  this.unmountTag = function () {\n\t    if (this.instance) this.instance.unmount(true);\n\t  };\n\t\n\t  this.mountTag = function (tag, api, options) {\n\t    if (typeof tag === 'function') {\n\t      var _normalizeTag = this.normalizeTag(tag, api, options);\n\t\n\t      var _normalizeTag2 = _slicedToArray(_normalizeTag, 3);\n\t\n\t      tag = _normalizeTag2[0];\n\t      api = _normalizeTag2[1];\n\t      options = _normalizeTag2[2];\n\t    }\n\t    if (this.canUpdate(tag, api, options)) {\n\t      this.instance.update(api);\n\t    } else {\n\t      this.unmountTag();\n\t      if (tag) {\n\t        this.root.replaceChild(document.createElement(tag), this.root.children[0]);\n\t        this.instance = riot.mount(this.root.children[0], tag, api)[0];\n\t        this.instanceTag = tag;\n\t      }\n\t    }\n\t  };\n\t\n\t  this.canUpdate = function (tag, api, options) {\n\t    if (!riot.router.config.updatable && !opts.updatable && !options.updatable || !this.instance || !this.instance.isMounted || this.instanceTag !== tag) return false;\n\t    return true;\n\t  };\n\t\n\t  this.updateRoute = (function () {\n\t    var mount = { tag: null };\n\t    if (riot.router && riot.router.current) {\n\t      var response = riot.router.current;\n\t      if (this.level <= response.size()) {\n\t        var matcher = response.get(this.level);\n\t        if (matcher) {\n\t          var params = matcher.params || {};\n\t          var api = extend(true, {}, matcher.api, params, { __router_level: this.level });\n\t          mount = { tag: matcher.tag, api: api, updatable: matcher.route.updatable };\n\t        }\n\t      }\n\t    }\n\t    this.mountTag(mount.tag, mount.api, mount);\n\t  }).bind(this);\n\t\n\t  this.__router_tag = 'route';\n\t  this.level = this.calculateLevel(this);\n\t  riot.router.on('route:updated', this.updateRoute);\n\t\n\t  this.on('unmount', (function () {\n\t    riot.router.off('route:updated', this.updateRoute);\n\t    this.unmountTag();\n\t  }).bind(this));\n\t});\n\t\n\tvar router = new Router();\n\trouter.Route = Route;\n\trouter.DefaultRoute = DefaultRoute;\n\trouter.RedirectRoute = RedirectRoute;\n\trouter.NotFoundRoute = NotFoundRoute;\n\trouter._ = { Response: Response, Request: Request };\n\t\n\trouter.config = {\n\t  updatable: false\n\t};\n\t\n\triot.router = router;\n\t\n\tmodule.exports = router;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar hasOwn = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\t\n\tvar isArray = function isArray(arr) {\n\t\tif (typeof Array.isArray === 'function') {\n\t\t\treturn Array.isArray(arr);\n\t\t}\n\t\n\t\treturn toStr.call(arr) === '[object Array]';\n\t};\n\t\n\tvar isPlainObject = function isPlainObject(obj) {\n\t\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\t\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t\t// Not own constructor property must be Object\n\t\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\t\treturn false;\n\t\t}\n\t\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own.\n\t\tvar key;\n\t\tfor (key in obj) {/**/}\n\t\n\t\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n\t};\n\t\n\tmodule.exports = function extend() {\n\t\tvar options, name, src, copy, copyIsArray, clone,\n\t\t\ttarget = arguments[0],\n\t\t\ti = 1,\n\t\t\tlength = arguments.length,\n\t\t\tdeep = false;\n\t\n\t\t// Handle a deep copy situation\n\t\tif (typeof target === 'boolean') {\n\t\t\tdeep = target;\n\t\t\ttarget = arguments[1] || {};\n\t\t\t// skip the boolean and the target\n\t\t\ti = 2;\n\t\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\t\ttarget = {};\n\t\t}\n\t\n\t\tfor (; i < length; ++i) {\n\t\t\toptions = arguments[i];\n\t\t\t// Only deal with non-null/undefined values\n\t\t\tif (options != null) {\n\t\t\t\t// Extend the base object\n\t\t\t\tfor (name in options) {\n\t\t\t\t\tsrc = target[name];\n\t\t\t\t\tcopy = options[name];\n\t\n\t\t\t\t\t// Prevent never-ending loop\n\t\t\t\t\tif (target !== copy) {\n\t\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\t\n\t\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// Return the modified object\n\t\treturn target;\n\t};\n\t\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** router.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e2e43b710ec40d3bc375\n **/","var riot = require('riot');\nvar extend = require('extend');\nvar error = console && console.error || function() {};\n\nclass Router {\n\n  constructor() {\n    riot.router = this;\n    riot.observable(this);\n    this.interceptors = [this.processRoute.bind(this)];\n    this.handler = new InitialRoute();\n    this.current = new Context(\"\").response;\n    this.process = this.process.bind(this);\n  }\n\n  route(handler) {\n    this.handler = handler;\n  }\n\n  routes(routes) {\n    this.route(new InitialRoute().routes(routes));\n  }\n\n  use(interceptor) {\n    this.interceptors.push(interceptor);\n  }\n\n  process() {\n    var params = Array.prototype.slice.call(arguments);\n    var uri = params.join(\"/\");\n    if (uri[0] !== '/') uri = \"/\" + uri; // handle '#any' as '#/any'\n    var context = new Context(uri);\n    if (!this.rootContext) this.rootContext = context;\n    this.processRequest(context);\n    return context;\n  }\n\n  processRequest(context) {\n    this.processInterceptors(context);\n    return this.processResponse(context);\n  }\n\n  processResponse(context) {\n    if (this.isRedirect(context)) {\n      return this.processRedirect(context);\n    }\n    var {request, response} = context;\n    if (!response.redirectTo) {\n      this.current = response;\n      this.rootContext = null;\n      this.trigger('route:updated', response);\n      return context;\n    }\n  }\n\n  isRedirect(context) {\n    return !!context.response.redirectTo;\n  }\n\n  processRedirect(context) {\n    var uri = context.response.redirectTo;\n    this.rootContext.addRedirect(uri);\n    this.navigateTo(uri);\n  }\n\n  navigateTo(uri) {\n    riot.route(uri);\n  }\n\n  processInterceptors(context, preInterceptors, postInterceptors) {\n    var interceptors = (preInterceptors || []).concat(this.interceptors).concat(postInterceptors || []);\n    var next = function next() {\n      if (!context.stop) {\n        var processor = interceptors.shift();\n        var {request, response} = context;\n        if (processor)\n          return processor(request, response, next, context);\n      }\n      return context;\n    };\n    return next();\n  }\n\n  processRoute(request, response, next, context) {\n    this.handler.process(request, response, context);\n    return next();\n  }\n\n  start() {\n    riot.route(this.process);\n    riot.route.start();\n    this.exec();\n  }\n\n  exec() {\n    riot.route.exec(this.process);\n  }\n}\n\nclass Context {\n  constructor(request) {\n    this.request = typeof(request) === 'string' ? new Request(request) : request;\n    this.response = new Response(this.request);\n    this.redirectStack = [];\n  }\n\n  addRedirect(uri) {\n    if (this.redirectStack.indexOf(uri) > -1)\n      throw new Error(\"Cyclic redirection to \" + uri + \". Stack = \" + this.redirectStack);\n    this.redirectStack.push(uri);\n  }\n\n}\n\nclass Handler {\n  constructor() {\n  }\n\n  matches(request) {\n    return false;\n  }\n\n  process(request, response) {\n    var matcher = this.matches(request);\n    if (!matcher) return this.routeMiss(request, response);\n    return this.routeMatch(request, response, matcher);\n  }\n\n  routeMatch(request, response, matcher) {\n    response.add(matcher);\n    return true;\n  }\n\n  routeMiss(request, response) {\n    return false;\n  }\n\n  processRoutes(request, response, routes) {\n    if (routes && routes.length) {\n      var t = routes.length;\n      for(var i = 0; i < t; i++) {\n        var route = routes[i];\n        if (route.process(request, response))\n          return true;\n      }\n      return false;\n    }\n  }\n\n  createRequest(request, matcher) {\n    return new ChildRequest(request, matcher);\n  }\n}\n\nclass Route extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n    this.api = options.api;\n    this.path = options.path;\n    this.name = options.name;\n    this.updatable = options.updatable;\n    this.pathParameterNames = [];\n    var path = this.getPath().replace(/^\\//,\"\");\n    this.pattern = \"^/?\" + path.replace(/:([^/]+)/g, function(ignored, group) {\n      this.pathParameterNames.push(group);\n      return \"([^/]+)\";\n    }.bind(this)) + \"(:?/|$)\";\n    this.regex = new RegExp(this.pattern);\n  }\n\n  routes(routes) {\n    var redirectRoutes = routes.filter(function(r) { return r instanceof RedirectRoute; });\n    var defaultRoutes = routes.filter(function(r) { return r instanceof DefaultRoute; });\n    var notFoundRoutes = routes.filter(function(r) { return r instanceof NotFoundRoute; });\n    var otherRoutes = routes.filter(function(r) { return redirectRoutes.indexOf(r) === -1\n                                                      &&  defaultRoutes.indexOf(r) === -1\n                                                      && notFoundRoutes.indexOf(r) === -1; });\n    if (notFoundRoutes.length > 1) error(\"Can't use more than one NotFoundRoute per route. --> \" + this.getPath());\n    if (defaultRoutes.length > 1) error(\"Can't use more than one DefaultRoute per route. --> \" + this.getPath());\n    this._routes = [].concat(redirectRoutes).concat(otherRoutes).concat(defaultRoutes).concat(notFoundRoutes);\n    return this;\n  }\n\n  matches(request) {\n    var matcher = this.regex.exec(request.uri);\n    if (matcher) {\n      var params = {};\n      for (var i in this.pathParameterNames) {\n        var name = this.pathParameterNames[i];\n        params[name] = decodeURIComponent(matcher[parseInt(i, 10) + 1]);\n      }\n      return {route: this, tag: this.tag, api: this.api, found: matcher[0], params: params};\n    }\n    return false;\n  }\n\n  routeMatch(request, response, matcher) {\n    var matches = super.routeMatch(request, response, matcher);\n    this.processRoutes(request, response, matcher);\n    return matches;\n  }\n\n  processRoutes(request, response, matcher) {\n    return super.processRoutes(this.createRequest(request, matcher), response, this._routes);\n  }\n\n  getPath() {\n    return this.name || this.path || (typeof this.tag === 'string' ? this.tag : '');\n  }\n}\n\nclass InitialRoute extends Route {\n\n}\n\nclass ChildRequest {\n  constructor(request, matcher) {\n    this.request = request;\n    this.matcher = matcher;\n    this.uri = this.request.uri.substring(matcher.found.length);\n    this.parentUri = this.request.uri.substring(0, matcher.found.length);\n  }\n}\n\nclass NotFoundRoute extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n    this.api = options.api;\n  }\n  matches(request) {\n    return {route: this, tag: this.tag, api: this.api, found: request.uri};\n  }\n}\n\nclass RedirectRoute extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.from = options.from;\n    this.to = options.to;\n    this.pattern = \"(^/?)\" + this.from + \"(/|$)\";\n    this.regex = new RegExp(this.pattern);\n  }\n\n  process(request, response) {\n    var uri = request.uri.replace(this.regex, \"$1\" + this.to + \"$2\");\n    if (uri !== request.uri) {\n      var parent = request.parentUri || \"\";\n      response.redirectTo = parent + uri;\n      return true;\n    }\n  }\n\n}\n\nclass DefaultRoute extends Handler {\n  constructor(options) {\n    super(options);\n    options = options || {};\n    this.tag = options.tag;\n    this.api = options.api;\n  }\n  matches(request) {\n    var uri = request.uri.trim();\n    if (uri === \"/\" || uri === \"\")\n      return {route: this, tag: this.tag, api: this.api, found: uri};\n  }\n}\n\nclass Request {\n  constructor(uri) {\n    this.uri = uri;\n  }\n}\n\nclass Response {\n  constructor(request) {\n    this.uri = request.uri;\n    this.matches = [];\n    this.params = {};\n  }\n  add(matcher) {\n    this.matches.push(matcher);\n    var params = matcher.params;\n    if (params) {\n      for (var key in params) {\n        if (params.hasOwnProperty(key)) {\n          this.params[key] = params[key];\n        }\n      }\n    }\n  }\n\n  get(index) {\n    return this.matches[index];\n  }\n\n  size() {\n    return this.matches.length;\n  }\n\n  isEmpty() {\n    return this.matches.length;\n  }\n\n}\n\nriot.tag('route', '<router-content></router-content>', function(opts) {\n  this.calculateLevel = function(target) {\n    var level = 0;\n    if (target.parent) level += this.calculateLevel(target.parent);\n    if (target.opts.__router_level) level += target.opts.__router_level;\n    if (target.__router_tag) level += 1;\n    return level;\n  }.bind(this);\n\n  this.normalizeTag = function(tag, api, options) {\n    var result = tag(api, options);\n    if (typeof result === 'string') {\n      tag = result;\n    } else  {\n      tag = result.tag || tag;\n      api = result.api || api;\n    }\n    return [tag, api, options];\n  }\n\n  this.unmountTag = function() {\n    if (this.instance)\n        this.instance.unmount(true);\n  }\n\n  this.mountTag = function(tag, api, options) {\n    if (typeof tag === 'function') {\n      [tag, api, options] = this.normalizeTag(tag, api, options);\n    }\n    if (this.canUpdate(tag, api, options)) {\n      this.instance.update(api);\n    } else {\n      this.unmountTag();\n      if (tag) {\n        this.root.replaceChild(document.createElement(tag), this.root.children[0]);\n        this.instance = riot.mount(this.root.children[0], tag, api)[0];\n        this.instanceTag = tag;\n      }\n    }\n  }\n\n  this.canUpdate = function(tag, api, options) {\n    if ((!riot.router.config.updatable && !opts.updatable && !options.updatable)\n      || !this.instance\n      || !this.instance.isMounted\n      || this.instanceTag !== tag)\n      return false;\n    return true;\n  }\n\n  this.updateRoute = function() {\n    var mount = {tag: null};\n    if (riot.router && riot.router.current) {\n      var response = riot.router.current;\n      if (this.level <= response.size()) {\n        var matcher = response.get(this.level);\n        if (matcher) {\n          var params = matcher.params || {};\n          var api = extend(true, {}, matcher.api, params, {__router_level: this.level});\n          mount = {tag: matcher.tag, api: api, updatable: matcher.route.updatable};\n        }\n      }\n    }\n    this.mountTag(mount.tag, mount.api, mount);\n  }.bind(this);\n\n  this.__router_tag = 'route';\n  this.level = this.calculateLevel(this);\n  riot.router.on('route:updated', this.updateRoute);\n\n  this.on('unmount', function() {\n    riot.router.off('route:updated', this.updateRoute);\n    this.unmountTag();\n  }.bind(this));\n\n});\n\nvar router = new Router();\nrouter.Route = Route;\nrouter.DefaultRoute = DefaultRoute;\nrouter.RedirectRoute = RedirectRoute;\nrouter.NotFoundRoute = NotFoundRoute;\nrouter._ = {Response: Response, Request: Request};\n\nrouter.config = {\n  updatable: false\n}\n\nriot.router = router;\n\nmodule.exports = router;\n\n\n\n/** WEBPACK FOOTER **\n ** ./router.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"riot\"\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extend/index.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}